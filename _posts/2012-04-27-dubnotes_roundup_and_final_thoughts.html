---           
layout: post
title: Dubnotes - Roundup and final thoughts
date: 2012-04-27 18:30:43 UTC
comments: false
categories: Dubnotes
---
The HTML frontend consists of two pages namely "mainpage.html" and "editpage.html".
In this blogpost I am going to redesign the app from the client side.
<!--more-->

During the last couple of days I took a look at the client-side and I had to decide how I wnat the client to be.

Currently the client is not very complex, it is more like a simple webpage: You click one thing an then a request to the server is made, the request is processed and the resulting webpage is rendered. 

The framework I am using for the markup, jQuery mobile [1] is capable of much more than what I am actually doing with it.

There are a lot of features I want the app to have like:
<ol>
    <li>work when I am offline with my smartphone</li>
    <li>work on my mac</li>
    <li>"Star" notes to find the quick </li>
    <li>Full text search</li>
    <li>Folder, Groups </li>
    <li>Tasks (priority)</li>
    <li>Images add on</li>
    <li>Better broswer integration (titlebar, zooming off)</li>
</ol>

And maybe, last but not least, I can make it in the Appstore / Market?

I decided to take a closer look at the jQuery mobile framework and I was pointed towards phonegap, a tool to make native android or iPhone apps from websites. 

<b>Concept and Ideas</b>


<b>Proof-Of-Concept</b>

After reading a lot of documentation and writing some javascript code I committed a version of the website that makes a lot more use of the modern html5 concepts and take the whole app a huge step further.

See clientapp.html on github.

My approach to the client is to write a complete javascript / html app what does what I want on a local database (e.g. internal struct or browser storage) and then connect it to my dubnotes.py somehow.

The main problem I have when writing javascript and html code is that I still have not found a TDD framework for javascript that I liked, so I decided to hack the code together in an old fashioned way with the "f5" TDD scheme. 

I am currently looking at SinonJS and my next step is to get that going. 

The current state of clientapp.html is proof-of-concept thats needs to be carved out and made nice. It features:
<ul>
    <li>Works with a local javascript-global as datastore and operates on it</li>
    <li>Connects to dubnotes.py via a json rendering template (more on that later) and syncs the notes listing</li>
    <li>Works more or less well in phonegap on Android (simulator and actual smartphone)</li>
    <li>supports the dropbox authentication, oauth stuff</li>
</ul>



[1] jquerymobile 
[2] http://stackoverflow.com/questions/300855/looking-for-a-better-javascript-unit-test-tool
[3] http://sinonjs.org/docs/


While I am redesigning these pages, I want to solve some of the problems the app has:
<ul>
    <li>Backend communication: forms, urls, ajax, and rest design</li>
</ul>
&nbsp;There a three main functions:
<ol>
    <li>Display a list of all notes</li>
    <li>Search for notes </li>
    <li>show and edit a note</li>
    <li>"meta"-edit notes e.g. delete and create new notes</li>
</ol>
There are some future ideas about what to add:
<ol>
    <li>"Star" notes to find the quick </li>
    <li>Full text search</li>
    <li>Folder, Groups </li>
    <li>Tasks (priority)</li>
    <li>Images add on</li>
    <li>work better on bigger screens, e.g.&nbsp; tablets, pcs</li>
    <li>Offline usage, synched notes</li>
    <li>Favicon</li>
    <li>Better broswer integration (titlebar, zooming off)</li>
</ol>
Redesigning the website:

The header looks like this:

<pre class="brush:html;">&lt;!DOCTYPE html&gt; 
&lt;html&gt; 
&nbsp;&nbsp;&nbsp; &lt;head&gt; 
&nbsp;&nbsp;&nbsp; &lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;&nbsp;&nbsp;&nbsp; 
&nbsp;&nbsp;&nbsp; &lt;title&gt;Edit note&lt;/title&gt; 
&nbsp;&nbsp;&nbsp; &lt;link rel="stylesheet" href="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.css" /&gt;
&nbsp;&nbsp;&nbsp; &lt;script src="http://code.jquery.com/jquery-1.6.4.min.js"&gt;&lt;/script&gt;
&nbsp;&nbsp;&nbsp; &lt;script src="http://code.jquery.com/mobile/1.0.1/jquery.mobile-1.0.1.min.js"&gt;&lt;/script&gt;
&nbsp;&nbsp;&nbsp; &lt;!-- &gt;&lt;link rel="stylesheet" href="http://code.jquery.com/mobile/1.0b1/jquery.mobile-1.0b1.min.css" /&gt;
&nbsp;&nbsp;&nbsp; &lt;script type="text/javascript" src="http://code.jquery.com/jquery-1.6.1.min.js"&gt;&lt;/script&gt;
&nbsp;&nbsp;&nbsp; &lt;script type="text/javascript" src="http://code.jquery.com/mobile/1.0b1/jquery.mobile-1.0b1.min.js"&gt;&lt;/script&gt;
&nbsp;&nbsp;&nbsp; --&gt;
&lt;/head&gt;</pre>

According to [1], i changed the doctype to more old-school XHTML. The viewport meta tag is interesting. Actually on my Andoid 2.3 device, it seems to be completly ignored. I played around with it a little and now it looks like:

&lt;meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, target-densitydpi=device-dpi" /&gt;

According to the android and iOS devloper resources (the Android browser is webkit based), the "user-scalable=no" should make it impossible for the user to zoom, that may be right when you are running inside your own html container, but not when you use the browser.

The new version looks like this:

&lt;?xml version="1.0" enc looks like:

&lt;meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, target-densitydpi=device-dpi" /&gt;

According to the android and iOS devloper resources (the Android browser is webkit based), the "user-scalable=no" should make it impossible for the user to zoom, that may be right when you are running inside your own html container, but not when you use the browser.

The new version looks like this:

&lt;?xml version="1.0" enc looks like:

&lt;meta name="viewport" content="width=device-width, user-scalable=acice-dpi" /&gt;

According to the android and iOS devloper resources (the Android browser is webkit based), the "user-scalabl0.rces (the Android browser is webkit based), the "user-scalabldeno" should make it impossible for the user to zoom, that may sp right when you are running inside your own html container, bqu not when you use the browser.

The new version looks like the :

&lt;?xml version="1.0" enc looks like:

&lt;meta name="vienkt based), the "user-scalable=no" should make it impossible for the user to zoom, that may be right when you are running inside your own html container, but not when you use the browser.

The new version looks like this:

&lt;?xml version="1.0" enc lotoS devloper resources (the Android browser is webkit based), the "user-scalabl0.rces (the Android browser is webkit based), the "user-scalabldeno" should make it impossible for the user to zoom, that may sp right when you are running inside your own html container, bqu not when you use the browser.

The new version looks like the :

&lt;?xml version="1.0" enc looks like:

&l-1.6.4.min.js
http://code.jquery.com/mobile/1.0.1/jquery.mobile-1 looks like the :

&lt;?xml version="1.0" enc looks like:

&lt;meta name="vienkt based), the "user-scalable=no" should make it impossible for the user to zoom, that may be right when you are running inside your own html container, but not when you usene running inside your own html container, but not when you use the browser.

The new version looks like this:

&lt;?xml version="1.0" enc lotoS devloper resources (the Android browser is d the browser.

The new version looks like this:

&lt;?xml versitn="1.0" enc lotoS devloper resources (the Android browser is  RESTfull API.

So here is how I like my urls to be:

/list &nbspbkit based), the "user-scalabldeno" should make it impossible/eor the user to zoom, that may sp right when you are running iemide your own html container, bqu not when you use the browsersc
The new version looks like the :

&lt;?xml version="1.0" encam/jquery.mobile-1 looks like the :

&lt;?xml version="1.0" enc looks like:

&lt;meta name="vienkt based"), the "user-scalable=spooks like:

&lt;meta name="vienkt based), the "user-scalable=o " should make it impossible for the user to zoom, that may be bight when you are running inside your own html container, but modify the design
2. keep userid and token "hidden"

Oauth and Rot when you use the browser.

The new version looks like this-a
&lt;?xml version="1.0" enc lotoS devloper resources (the And mid browser is d the browser.

The new version looks like thisd 
&lt;?xml versitn="1.0" enc lotoS devloper resources (the Andioid browser is  RESTfull API.

So here is how I like my urls trid and token) and the server should now about the user as well a it impossible/eor the user to zoom, that may sp right when yte are running iemide your own html container, bqu not when you/lsion="1.0" encam/jquery.mobile-1 looks like the :

&lt;?xml vbetter:

/&lt;userid&gt;/note?oauth_token=&nbsp;&nbsp; List of nouser-scalable=spooks like:

&lt;meta name="vienkt based"), the "user-scalable=o " should make it impossible for the user to z and token from the url, but for GET request like edit and list, m, that may be bight when you are running inside your own htmI container, but modify the design
2. keep userid and token "hiiten"

Oauth and Rot when you use the browser.

The new versionHoooks like this-a
&lt;?xml version="1.0" enc lotoS devloper red urces (the And mid browser is d the browser.

The new version.cooks like thisd 
&lt;?xml versitn="1.0" enc lotoS devloper rerources (the Andioid browser is  RESTfull API.

So here is how //like my urls trid and token) and the server should now about are user as well a it impossible/eor the user to zoom, that may78p right when yte are running iemide your ow)
</ul></b></li>
</ol>
