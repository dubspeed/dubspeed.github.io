---           
layout: post
title: Private Cloud with Opennebula and Ubuntu
date: 2012-06-29 18:46:31 UTC
updated: 2012-06-29 18:46:31 UTC
comments: false
categories: Private-Cloud
---

<div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-m4NB-INMXgQ/T-33t3OENoI/AAAAAAAAAKM/GPH7zpQZd5U/s1600/IMG_0062.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" src="http://3.bp.blogspot.com/-m4NB-INMXgQ/T-33t3OENoI/AAAAAAAAAKM/GPH7zpQZd5U/s1600/IMG_0062.jpg" title=" " /></a></div><br />It´s about time for my private cloud! In this post I will walk through my latest hardware setup.<br /><br /><b>Motivation</b><br /><br />Currently I am running some permanent Ubuntu instances on Amazon EC2, e.g. a mail server and a web server. The micro instance is very well suited for that. In fact, I love micro instances on EC2, but having more than a few permanently online can get quite costly over the time.<br /><br />After my one-free-year expired recently, its time to host more machines at home on my own hardware.<br /><br /><b>Assumptions</b><br /><br />What instances could be run?<br /><ul><li>Mailserver</li><li>3 and more Webserver for productive, testing and development systems</li><li>Something to sync / backup 2 or more Apple Macs (AFP Fileserver and Time-Machine Volume)</li><li>Media / Streaming Server for music, video etc.</li><li>databases</li><li>git-repros</li><li>AeroFS ? instances http://www.aerofs.com/ - once this comes to live</li><li>... and much more. </li></ul><ul></ul><b>Budget</b><br /><br />I have a budget of 500 Euros for this. <br /><br /><br /><a name='more'></a><br /><br /><b>Hardware</b><br /><br />After quite a lot of reading about home server, I came across the following hardware configuration:<br /><ul><li>HP Microserver N40L, aprox. 250 Euro</li><li>16 GB RAM, aprox. 90 Euro </li><li>2 x 2 TB WD20EARX, aprox. 220 Euro</li></ul><br />I decided not to build the server by myself, this could have saved me some money, but I am not firm in building machines anymore quickly. <br /><br />The HP-Microserver seems to be a good alternative:<br /><ul><li>very small form factor</li><li>a silent, well build and well designed server</li><li>AMD Turion(tm) II Neo N40L Dual-Core Processor, passive cooled, with low power consumption, but features two cores, 64bit and virtualization extensions</li><li>2 PCIe extension slots, 4 drive bays, 1 eSata Interface, enough USB ports, Gbit LAN</li><li>capable of 16GB RAM</li></ul>I couldn´t have done this machine by myself, never. The Turion seems to be an efficient processor. I want to keep the energy and noise level down, but I am not sure about the decision. Benchmarks seem okay, though[1].<br /><br /><b>Software</b><br /><br />I want to keep things simple, at zero costs and open source software.<br /><br />OS: Ubuntu, reason: most experience on my end <br /><br />Virtualization options:<br /><ul><li>Xen, KVM&nbsp;</li><li>Eucalyptus (I used that before), Openstack (Ubuntu´s favorite), OpenNebula</li></ul>I decided for KVM over Xen, because it is easiest to setup and maintain.<br /><br />OpenNebula was chosen over OpenStack and Eucalyptus because their solutions tries to keep things simple. Eucalyptus and OpenStack are full blown enterprise solutions which require a lot of Java, more than one database, Python, computing resources, dependecies and time.<br /><br />Opennebula has a small set of requirements, builds fast from sources and is small and fast, perfect for my needs (they don´t provide all the features, though). <br /><br /><b>Installation procedure</b><br /><br />I set up a git repro to keep track of documentation and scripts about this project. See: <a href="http://github.com/dubspeed/microserver">github.com/dubspeed/microserver</a>.<br /><br /><br /><br /><br /><br />References:<br />[1] http://www.cpubenchmark.net/cpu_lookup.php?cpu=AMD+Turion+II+Neo+N40L+Dual-Core<br /><br /><br />