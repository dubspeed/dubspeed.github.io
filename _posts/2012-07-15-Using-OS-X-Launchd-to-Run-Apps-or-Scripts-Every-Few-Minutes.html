---           
layout: post
title: Using OS-X-Launchd to Run Apps or Scripts Every Few Minutes
date: 2012-07-15 07:43:27 UTC
updated: 2012-07-15 07:43:27 UTC
comments: false
categories: OS X Tips´n´Tricks
---

It took me some time to find out how to run tasks on my Mac repetitive every few minutes, it´s a bit hidden so I write things down with further references attached.<br /><br />1. I created an Automator script of type "application" to start with and saved it as "test.app":<br /><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-IduJNAHkfRU/UAJtBIA8hUI/AAAAAAAAAKo/WuD6Gt6SafE/s1600/automator_app.jpg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="194" src="http://1.bp.blogspot.com/-IduJNAHkfRU/UAJtBIA8hUI/AAAAAAAAAKo/WuD6Gt6SafE/s320/automator_app.jpg" width="320" /></a></div><br />Any Application can be used, Automator-Apps are a good example, because there an not-so-obvious part.<br /><br />2. Instead of cron OS-X uses launchd to do tasks periodically. Here is a quick summary of how things work:<br /><br /><ul><li>Every task is written as a .plist file in a special Folder on your computer.</li><li>These folders are /Library/LaunchAgents (system-wide, for all users logged in) and /Library/LaunchDeamons (system wide, no users need to be logged in) and ~/Library/LaunchAgents (for you!) (see [3] for details)</li><li>Once you created a plist file and put it in of the locations, you can use the launchctl command to &nbsp;play with it, for example:</li><ul><li><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">launchctl load ~/Library/LaunchAgents/my.plist </span>&nbsp;</li><li><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">launchctl unload ~/Library/LaunchAgents/my.plist</span></li><li><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;">launchctl list&nbsp;</span></li></ul></ul>3. Here is a simple .plist file that runs every thirty seconds and starts my automator app, the first screenshot show the file in Xcode, the code below is the same file in source:<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-9q6vYLkpgeo/UAJwlZ2wSzI/AAAAAAAAAK0/ZR5Obu5MmiA/s1600/Bildschirmfoto+2012-07-15+um+09.24.29.png" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="187" src="http://3.bp.blogspot.com/-9q6vYLkpgeo/UAJwlZ2wSzI/AAAAAAAAAK0/ZR5Obu5MmiA/s640/Bildschirmfoto+2012-07-15+um+09.24.29.png" width="640" /></a></div><br /><div class="gistLoad" data-id="3115697" id="gist-3115697">Loading ....</div><br />Two important things to note:<br /><ol><li>Set the path to find the executable inside your application (.app) package. The alternative might be to use the OS-X "open" command to launch the app, but I haven´t checked that yet.</li><li>StartInterval is in seconds, and that is just the easiest way to do it. There are a lot more settings and parameters to set, check out the references below.</li></ol><br /><b>References</b><br /><br /><ul><li>[1] A more in detail discussion, contains many more details, worth the read:&nbsp;<a href="http://www.macosxhints.ch/index.php?page=2&amp;hintid=1759">http://www.macosxhints.ch/index.php?page=2&amp;hintid=1759</a></li><li>[2] Launchd-Manpage:<br /><a href="https://developer.apple.com/library/mac/#documentation/Darwin/Reference/Manpages/man8/launchd.8.html">https://developer.apple.com/library/mac/#documentation/Darwin/Reference/Manpages/man8/launchd.8.html</a></li><li>[3] Launchctl-Manpage, with all command line options:<br /><a href="https://developer.apple.com/library/mac/#documentation/Darwin/Reference/Manpages/man1/launchctl.1.html#//apple_ref/doc/man/1/launchctl">https://developer.apple.com/library/mac/#documentation/Darwin/Reference/Manpages/man1/launchctl.1.html</a></li><li>[4] Launchd.plist File format:&nbsp;<a href="https://developer.apple.com/library/mac/#documentation/Darwin/Reference/Manpages/man5/launchd.plist.5.html#//apple_ref/doc/man/5/launchd.plist">https://developer.apple.com/library/mac/#documentation/Darwin/Reference/Manpages/man5/launchd.plist.5.html</a></li></ul><br /><script src="https://raw.github.com/moski/gist-Blogger/master/public/gistLoader.js" type="text/javascript"></script>