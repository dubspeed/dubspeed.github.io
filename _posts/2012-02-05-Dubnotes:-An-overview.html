---           
layout: post
title: Dubnotes: An overview
date: 2012-02-05 17:31:43 UTC
updated: 2012-02-05 17:31:43 UTC
comments: false
categories: Dubnotes
---

Introducing "Dubnotes", the simple notes-taking app for your mobile device (and the web!)<br /><br /><a name='more'></a><br /><br /><br /><div style="text-align: center;">Code available at: <a href="http://github.com/dubspeed/dubnotes">github.com/dubspeed/dubnotes</a></div><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-BJ9vQZn5hlw/Tv7-v7il8zI/AAAAAAAAAFA/ek0He7W164g/s1600/SC20111114-195932.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="213" src="http://4.bp.blogspot.com/-BJ9vQZn5hlw/Tv7-v7il8zI/AAAAAAAAAFA/ek0He7W164g/s320/SC20111114-195932.png" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Notes overview</td></tr></tbody></table><br /><b>Idea</b><br /><br />Dubnotes is a simple web based application which lets you take notes via a easy-to-use interface and place them directly into a folder "dubnotes" into your Dropbox.<br /><br />I was looking to find an easy replacement for Evernote I used for some time to store text based notes and thoughts. <br /><br />The idea was: Why not store my notes unorganized into a Dropbox folder which I can access via a native interface from my mobile?<br /><br /><br /><b>Concept</b><br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-FSRH5b6I6sI/TwCoKtJkYwI/AAAAAAAAAFc/DWProjHd6is/s1600/table.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="203" src="http://4.bp.blogspot.com/-FSRH5b6I6sI/TwCoKtJkYwI/AAAAAAAAAFc/DWProjHd6is/s640/table.jpg" width="640" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Once acquired, token and access keys are stored in the database</td></tr></tbody></table><br />Dropbox offers a good API for its services and a free developer key (see <a href="https://www.dropbox.com/developers">[2]</a>). There is even a python module with example code online. A simple way to run python code on the web is Google´s Appengine, so it should be easy to combine both to access the Dropbox folder from the web.<br /><br />On the mobile device I decided to start with a web based application to address both Android and iOS at the same time. I had no experience in Android SDK development and there is a promising book online over at O´Reillys (see <a href="http://ofps.oreilly.com/titles/9781449383268/">[4]</a>) covering web based applications and mobile demands.<br /><br />On Mac and Linux (and Windows), well, there is Textedit, GEdit and Notepad or any other app that can read/write Text file. Dropbox is of course available on all mentioned platforms, but that was never a requirement. Web based applications have the ability to adopt themselves to the client screen size and browser framework dynamically, so I imaged one piece of code running on all the mobile and desktop platforms at the same time.<br /><br />I opted for jquery-mobile (see <a href="http://jquerymobile.com/%20">[7]</a>) on the client side.<br /><br /><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://3.bp.blogspot.com/-fl2MEtYg9sQ/Tv7-5_L4UVI/AAAAAAAAAFM/aCaS0dKxJPE/s1600/SC20111114-200310.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="213" src="http://3.bp.blogspot.com/-fl2MEtYg9sQ/Tv7-5_L4UVI/AAAAAAAAAFM/aCaS0dKxJPE/s320/SC20111114-200310.png" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Not a beauty: Note editor</td></tr></tbody></table><br /><b>Discussion</b><br /><br />1. Building the app, finding the documentation<br /><br />Dubnotes started out as a simple Appengine project. According to the documentation on <a href="http://code.google.com/intl/en/appengine/docs/python/config/appconfig.html">[1]</a> I set up a app.yml file for the Appengine to learn about folder structure and find a entry to the application.<br /><br />There is API documentation about Dropbox and a python module on <a href="https://www.dropbox.com/developers">[2]</a>.<br /><br />The next step was to add certain modules that came up during playing around with the dropbox API and the example code they provide, so I used the<a href="https://www.dropbox.com/developers/start/setup#python"> tutorial</a> to get a feeling for their Python SDK.<br /><br />The Dropbox software depends on the <a href="https://github.com/dubspeed/dubnotes/blob/master/oauth/oauth.py">oauth module</a> and the<a href="https://github.com/dubspeed/dubnotes/blob/master/simplejson/__init__.py"> simplejson module</a>, so I downloaded and dropped these modules into the application folder as they were pure Pythone modules with no C requirements.<br /><br />I crafted a demo website using jquery-mobile loosly following the<a href="http://jquerymobile.com/demos/1.0/"> tutorials and examples</a> they provide on their website.<br /><br />2. The oAuth-Dance<br /><br />The first challange that I came across was to get the authentication right. The app needs to access your private data on Dropbox, so you´ll have to authenticate somehow. Dropbox allows remote authentication via oAuth. oAuth is a very popular authentication mechanism, so it was easy to find a python-only oAuth modules (included in "oauth"-folder, see <a href="http://oauth.net/code/">[3]</a> for a complete list).<br /><br />Since the user authenticates once and approves the app in her Dropbox account, I don´t want her to re-authenticate every time she revisits the app. So the idea was to store the access token generated by oAuth into the database and reuse it every time the user returns.<br /><br />Is that safe? I don´t know. <br /><br />To learn more about oAuth I recommend reading <a href="https://www.dropbox.com/developers/reference/api">[5]</a> and <a href="http://hueniverse.com/oauth/guide/workflow/">[6]</a>. <br /><br /><b>State and reason for refactoring</b><br /><br />Once I uploaded the app into the Appengine, I started using it on my mobile. Of course, there were some bugs to fix, but in the end the app works quite well, so well that I still use it frequently.&nbsp; <br />The code now aged about one year since I first deployed it and is a mess.<br /><br />The app sometimes breaks for no reason, but most of the times it works quite okay. I want to implement new features and fix all the reasons for crashes without loosing the state of the app at this point.<br /><br />New features include:<br /><ul><li>offline mode</li><li>better file handling (delete, update)</li><li>much nicer frontend views and look</li><li>more secure</li><li>more stable</li></ul><b>What to come ...</b><br /><br />In my next post I am going to take a look at the codebase and start the refactoring process. <br /><br /><br />[1] http://code.google.com/intl/en/appengine/docs/python/config/appconfig.html<br />[2] https://www.dropbox.com/developers<br />[3] http://oauth.net/code/<br />[4] http://ofps.oreilly.com/titles/9781449383268/<br />[5] https://www.dropbox.com/developers/reference/api<br />[6] http://hueniverse.com/oauth/guide/workflow/<br />[7] http://jquerymobile.com/